{"version":3,"sources":["webpack:///webpack/bootstrap b706134e0f2e65fafc4f","webpack:///./prefabs/customConfig.js","webpack:///./states/boot.js","webpack:///./states/menu.js","webpack:///./states/play.js","webpack:///./states/preload.js","webpack:///./prefabs/enemy.js","webpack:///./prefabs/player.js","webpack:///./states/index.js"],"names":["audioPath","picsPath","customConfig","pics","cloud","key","url","city1","city2","ground","playerBody","defaultKey","defaultUrl","playerBullet","enemyBody","enemyBullet","tree","pink","go","replay","audio","playerShot","playerExplode","enemyShot","enemyExplode","hitGround","url1","flag","onDown","canMove","checkStop","emergency","common","enemyTreeX","scrollSpeed","Boot","game","state","backgroundColor","load","image","scale","scaleMode","Phaser","ScaleManager","SHOW_ALL","pageAlignHorizontally","refresh","start","console","log","width","camera","isLandscape","isPortrait","State","Menu","flagShowBtnStart","btnStart","add","button","world","centerX","centerY","startGame","anchor","set","visible","btnReplay","tween","to","x","y","Easing","BounceInOut","time","events","Play","physics","startSystem","Physics","ARCADE","stage","tileSprite","fixedToCamera","position","height","arcade","enable","body","immovable","allowGravity","setEnemyTreeX","player","enemy","setEnemy","setEnemyLaunchSpeed","groupEnemy","enemyTree","pageAlignVertically","update","autoScroll","stopScroll","Preload","textProgress","text","fill","fontSize","onFileComplete","fileComplete","onLoadComplete","loadComplete","cache","_cache","progress","Enemy","_game","_x","_y","_player","_ground","launchSpeed","flagEnemyHoldBullet","flagEnemyBulletMissedPlayer","group","sprite","rnd","realInRange","syncBounds","tint","angle","gravity","checkWorldBounds","onOutOfBounds","enemyBulletOutOfBounds","fxEnemyShot","collide","enemyBodyHitGround","enemyBulletHitPlayerBody","enemyBulletHitGround","rotation","angleBetween","changeAngle","flagPlayerBulletMissedEnemy","enemyLaunch","move","kill","gameOver","reviveEnemyBullet","velocityFromRotation","velocity","play","reset","p","playerX","enemyX","revive","between","flagCoolDown","Sprite","Player","_enemy","flagRotate","flagPlayerHoldBullet","getPlayer","playerBulletOutOfBounds","bringToTop","input","eventOnKeyDown","onUp","eventOnKeyUp","fxPlayerShot","playerBodyHitGround","playerBulletHitEnemy","playerBulletHitGround","revivePlayerBullet","PlayerLaunch","velocityFromAngle","alive","gameBestWidth","gameBestHeight","gameBestRatio","document","clientWidth","clientHeight","getElementById","style","Game","CANVAS"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b706134e0f2e65fafc4f","var audioPath = \"demo1Assets/audio/\";\r\nvar picsPath = \"demo1Assets/pics/\"\r\nvar customConfig = {\r\n\t\tpics:{\r\n\t\t\tcloud: {\r\n\t\t\t\tkey: \"cloud\",\r\n\t\t\t\turl: picsPath+\"cloud.jpg\"\r\n\t\t\t},\r\n\t\t\tcity1: {\r\n\t\t\t\tkey: \"city1\",\r\n\t\t\t\turl: picsPath+\"city1.png\"\r\n\t\t\t},\r\n\t\t\tcity2: {\r\n\t\t\t\tkey: \"city2\",\r\n\t\t\t\turl: picsPath+\"city2.png\"\r\n\t\t\t},\r\n\t\t\tground: {\r\n\t\t\t\tkey: \"ground\",\r\n\t\t\t\turl: picsPath+\"ground.png\"\r\n\t\t\t},\r\n\t\t\tplayerBody: {\r\n\t\t\t\tkey: \"pink\",\r\n\t\t\t\turl: picsPath+\"pink.png\",\r\n\t\t\t\tdefaultKey: \"playerBody\",\r\n\t\t\t\tdefaultUrl: picsPath+\"playerBody.png\"\r\n\t\t\t},\r\n\t\t\tplayerBullet: {\r\n\t\t\t\tkey: \"pink\",\r\n\t\t\t\turl: picsPath+\"pink.png\",\r\n\t\t\t\tdefaultKey: \"playerBullet\",\r\n\t\t\t\tdefaultUrl: picsPath+\"playerBullet.png\"\r\n\t\t\t},\r\n\t\t\tenemyBody: {\r\n\t\t\t\tkey: \"pink\",\r\n\t\t\t\turl: picsPath+\"pink.png\",\r\n\t\t\t\tdefaultKey: \"enemyBody\",\r\n\t\t\t\tdefaultUrl: picsPath+\"enemyBody.png\"\r\n\t\t\t},\r\n\t\t\tenemyBullet: {\r\n\t\t\t\tkey: \"pink\",\r\n\t\t\t\turl: picsPath+\"pink.png\",\r\n\t\t\t\tdefaultKey: \"enemyBullet\",\r\n\t\t\t\tdefaultUrl: picsPath+\"enemyBullet.png\"\r\n\t\t\t},\r\n\t\t\ttree: {\r\n\t\t\t\tkey: \"pink\",\r\n\t\t\t\turl: picsPath+\"pink.png\",\r\n\t\t\t\tdefaultKey: \"tree\",\r\n\t\t\t\tdefaultUrl: picsPath+\"tree.png\"\r\n\t\t\t},\r\n\t\t\tpink: {\r\n\t\t\t\tkey: \"pink\",\r\n\t\t\t\turl: picsPath+\"pink.png\"\r\n\t\t\t},\r\n\t\t\tgo: {\r\n\t\t\t\tkey: \"go\",\r\n\t\t\t\turl: picsPath+\"go.png\"\r\n\t\t\t},\r\n\t\t\treplay: {\r\n\t\t\t\tkey: \"replay\",\r\n\t\t\t\turl: picsPath+\"replay.png\"\r\n\t\t\t}\r\n\t\t},\r\n\t\taudio:{\r\n\t\t\tplayerShot:{\r\n\t\t\t\tkey: \"playerShot\",\r\n\t\t\t\turl: audioPath+\"playerShot.mp3\"\r\n\t\t\t},\r\n\t\t\tplayerExplode:{\r\n\t\t\t\tkey: \"playerExplode\",\r\n\t\t\t\turl: audioPath+\"playerExplode.mp3\"\r\n\t\t\t},\r\n\t\t\tenemyShot: {\r\n\t\t\t\tkey: \"enemyShot\",\r\n\t\t\t\turl: audioPath+\"enemyShot.wav\"\r\n\t\t\t},\r\n\t\t\tenemyExplode:{\r\n\t\t\t\tkey: \"enemyExplode\",\r\n\t\t\t\turl: audioPath+\"enemyExplode.wav\"\r\n\t\t\t},\r\n\t\t\thitGround:{\r\n\t\t\t\tkey: \"hitGround\",\r\n\t\t\t\turl: audioPath+\"hitGround.mp3\",\r\n\t\t\t\turl1: audioPath+\"hitGround.ogg\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tflag: {\r\n\t\t\tonDown: false,\r\n\t\t\tcanMove: false,\r\n\t\t\tcheckStop: false,\r\n\t\t\temergency: false\r\n\t\t},\r\n\t\tcommon: {\r\n\t\t\tenemyTreeX: 600,\r\n\t\t\tscrollSpeed: -5\r\n\t\t}\r\n\r\n};\r\n\r\nexport default customConfig;\r\n\n\n\n// WEBPACK FOOTER //\n// ./prefabs/customConfig.js","//import Phaser from \"phaser\";\r\nimport customConfig from \"../prefabs/customConfig\";\r\n\r\nclass Boot extends Phaser.State{\r\n\tpreload(){\r\n\t\tthis.game.state.backgroundColor = 0x213456;\r\n\t\tthis.load.image(customConfig.pics.go.key, customConfig.pics.go.url);\r\n\t}\r\n\r\n\tcreate(){\r\n\t\t//this.game.scale.scaleMode = Phaser.ScaleManager.EXACT_FIT;\r\n\t\tthis.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n\t\t//this.game.scale.scaleMode = Phaser.ScaleManager.RESIZE;\r\n\t    this.scale.pageAlignHorizontally =  true;\r\n\t    this.scale.refresh();\r\n\t\t//this.game.scale.onOrientationChange.add(this.resize, this);\r\n\t\t//this.scale.forcePortrait = true;\r\n\t\t//this.scale.forceLandscape = true;\r\n\t\tthis.state.start(\"Preload\");\r\n\t\tconsole.log(this.scale.pageAlignHorizontally);\r\n\t\tconsole.log(this.game.width);\r\n\t\tconsole.log(this.game.camera.width);\r\n\t}\r\n\r\n\tresize(){\r\n\t\tif(this.game.scale.isLandscape){\r\n\t\t\t//console.log(\"contentW0: \"+document.getElementById('content').style.width, \"\\ncontentH0: \"+document.getElementById('content').style.width);\r\n\t\t\t//document.getElementById('content').style.width = document.body.clientWidth + 'px';\r\n\t\t\t//document.getElementById('content').style.height = document.body.clientHeight + 'px';\r\n\t\t\t//this.game.scale.setGameSize(this.game.width+100, this.game.height);\r\n\t\t\t//console.log(this.game.width, this.game.height);\r\n\t\t\t//console.log(\"isLandscape\");\r\n\t\t\t//console.log(\"W: \"+document.body.clientWidth, \"H: \"+document.body.clientHeight);\r\n\t\t\t//console.log(\"contentW: \"+document.getElementById('content').style.width, \"\\ncontentH: \"+document.getElementById('content').style.width);\r\n\t\t}else if(this.game.scale.isPortrait){\r\n\t\t\t//console.log(\"contentW0: \"+document.getElementById('content').style.width, \"\\ncontentH0: \"+document.getElementById('content').style.width);\r\n\t\t\t//console.log(this.game.width, this.game.height);\r\n\t\t\t//document.getElementById('content').style.width = document.body.clientWidth + 'px';\r\n\t\t\t//document.getElementById('content').style.height = document.body.clientHeight + 'px';\r\n\t\t\t//console.log(\"isPortrait\");\r\n\t\t\t//console.log(\"W: \"+document.body.clientWidth, \"H: \"+document.body.clientHeight);\r\n\t\t\t//console.log(\"contentW: \"+document.getElementById('content').style.width, \"\\ncontentH: \"+document.getElementById('content').style.width);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default Boot;\r\n\n\n\n// WEBPACK FOOTER //\n// ./states/boot.js","//import Phaser from \"phaser\";\r\nimport customConfig from \"../prefabs/customConfig\";\r\n\r\nclass Menu extends Phaser.State{\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t\tthis.flagShowBtnStart = true;\r\n\t}\r\n\r\n\tcreate(){\r\n\t\t//console.log(\"menu create\");\r\n\t\tthis.btnStart = this.add.button(this.game.world.centerX, this.game.world.centerY, customConfig.pics.go.key, this.startGame, this);\r\n\t\tthis.btnStart.anchor.set(0.5);\r\n\t\tthis.btnStart.scale.set(0.5);\r\n\t\tthis.btnStart.visible = this.flagShowBtnStart;\r\n\r\n\t\tthis.btnReplay = this.add.button(this.game.world.centerX, this.game.world.centerY+100, customConfig.pics.replay.key, this.startGame, this);\r\n\t\tthis.btnReplay.anchor.set(0.5);\r\n\t\tthis.btnReplay.scale.set(0.5);\r\n\t\tthis.btnReplay.visible = !this.flagShowBtnStart;\r\n\t\tthis.game.add.tween(this.btnStart.scale).to({x:0.6, y:0.6}, 1000, Phaser.Easing.BounceInOut, true, 0, -1, true);\r\n\t\tthis.game.add.tween(this.btnReplay.scale).to({x: 0.6, y:0.6}, 1000, Phaser.Easing.BounceInOut, true, 0, -1, true);\r\n\r\n\t\tthis.time.events.add(200, this.startGame, this);\r\n\t}\r\n\r\n\tstartGame(){\r\n\t\t//console.log(\"menu start play\");\r\n\t\tthis.state.start(\"Play\");\r\n\t\tthis.flagShowBtnStart = false;\r\n\t\t//console.log(\"menu finish starting play\");\r\n\t}\r\n}\r\n\r\nexport default Menu;\n\n\n// WEBPACK FOOTER //\n// ./states/menu.js","//import Phaser from \"phaser\";\r\nimport customConfig from \"../prefabs/customConfig\";\r\nimport Player from \"../prefabs/player\";\r\nimport Enemy from \"../prefabs/enemy\";\r\n\r\nclass Play extends Phaser.State{\r\n\tcreate(){\t\t\r\n\t\tthis.game.physics.startSystem(Phaser.Physics.ARCADE);\r\n\t\tthis.game.stage.backgroundColor = '#a8e6ff';\r\n\r\n\t\tthis.cloud = this.add.tileSprite(0,0,2079,851,'cloud');\r\n\t    this.cloud.fixedToCamera = true;\r\n\t    this.city1 = this.add.tileSprite(0,0,1798,359,'city1');\r\n\t    this.city1.position.set(0, this.game.world.height-this.city1.height+50);\r\n\t    this.city1.fixedToCamera = true;\r\n\t    //this.city2 = this.add.tileSprite(0,0,1353,580,'city2');\r\n\t    this.city2 = this.add.tileSprite(0,0,1500,580,'city2');\r\n\t    this.city2.position.set(0, this.game.world.height-this.city2.height+70);\r\n\t    this.city2.fixedToCamera = true;\r\n\t    this.ground = this.add.tileSprite(0, 0, 1000, 32, \"ground\");\r\n\t    this.ground.scale.set(2);\r\n\t    this.ground.position.set(0, this.game.world.height-this.ground.height*2);\r\n\t    this.game.physics.arcade.enable(this.ground);\r\n\t    this.ground.body.immovable = true;\r\n\t    this.ground.body.allowGravity = false; \r\n\r\n\t    this.setEnemyTreeX();\r\n\t    this.player = new Player(this.game, this.game.width*0.22, this.game.world.centerY,null, this.ground);\r\n\t    this.enemy = new Enemy(this.game, customConfig.common.enemyTreeX, 0, this.player, this.ground);\r\n\t    this.player.setEnemy(this.enemy);\r\n\t    this.enemy.setEnemyLaunchSpeed(this.player.playerBody.x, this.enemy.groupEnemy.x+this.enemy.enemyTree.x);\r\n\r\n\t}\r\n\r\n\tgoFullScreen(){\r\n        this.game.scale.pageAlignHorizontally = true;\r\n     \tthis.game.scale.pageAlignVertically = true;\r\n     \tthis.game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n    }\r\n\r\n    /*\r\n    setEnemyTreeX(){\r\n    \tif(customConfig.common.enemyTreeX < this.game.camera.width*0.75 && this.game.camera.width*0.75 < customConfig.common.enemyTreeX+250){\r\n\t\t\tcustomConfig.common.enemyTreeX = this.game.camera.width*0.75;\t\r\n\t\t\tconsole.log(\"setEnemyTreeX if-----------\")\t\t;\r\n\t\t\t//customConfig.common.enemyTreeX = this.game.camera.width*0.75+this.game.rnd.realInRange(-200, 200);\t\t\t\r\n\t\t}else if(customConfig.common.enemyTreeX+250 <= this.game.camera.width*0.75){\r\n\t\t\tcustomConfig.common.enemyTreeX += 250;\r\n\t\t\tconsole.log(\"setEnemyTreeX else------------\")\r\n\t\t\t//customConfig.common.enemyTreeX += 250+this.game.rnd.realInRange(-300, 300);\r\n\t\t}\r\n    }\r\n*/\r\n\tsetEnemyTreeX(){\r\n    \tif(customConfig.common.enemyTreeX < this.game.camera.width*0.75 ){\r\n\t\t\tcustomConfig.common.enemyTreeX = this.game.camera.width*0.75;\t\r\n\t\t}\r\n    }\r\n\r\n\tupdate(){\r\n\t\tthis.player.update();\r\n\t\tthis.enemy.update();\r\n\t\tthis.cloud.autoScroll(customConfig.common.scrollSpeed*10, 0);\r\n\t\tif(customConfig.flag.canMove){\r\n\t\t\tthis.city1.autoScroll(customConfig.common.scrollSpeed*20, 0);\r\n\t\t\tthis.city2.autoScroll(customConfig.common.scrollSpeed*30, 0);\r\n\t\t\tthis.ground.autoScroll(customConfig.common.scrollSpeed*40, 0);\r\n\t\t\t/*\r\n\t\t\tthis.enemy.groupEnemy.x -= 5;\r\n\t\t\tif(this.enemy.groupEnemy.x+this.enemy.enemyTree.x+this.enemy.enemyTree.width/2 <this.game.camera.x){\r\n\t\t\t\tthis.enemy.groupEnemy.position.set(this.game.camera.x+this.game.camera.width+this.enemy.enemyTree.width-this.enemy.enemyTree.x, 0);\r\n\t\t\t\tthis.enemy.enemyTree.scale.set(this.game.rnd.realInRange(0.12, 0.2), this.game.rnd.realInRange(0.2, 1.3));\r\n\t\t\t\tthis.enemy.enemyBody.revive();\r\n\t\t\t\tthis.enemy.enemyBody.position.set(this.enemy.enemyTree.x, this.enemy.enemyTree.y-this.enemy.enemyTree.height-this.enemy.enemyBody.height/2);\r\n\t\t\t\tthis.enemy.reviveEnemyBullet();\r\n\t\t\t\tcustomConfig.flag.checkStop = true;\r\n\t\t\t\tconsole.log(\"reset tree\");\r\n\t\t\t}\r\n\t\t\tif(customConfig.flag.checkStop){\r\n\t\t\t\t//this.setEnemyTreeX();\r\n\t\t\t\tthis.enemy.setEnemyLaunchSpeed(this.player.playerBody.x, this.enemy.groupEnemy.x);\r\n\t\t\t\tif(this.enemy.groupEnemy.x+this.enemy.enemyTree.x<customConfig.common.enemyTreeX+this.game.rnd.between(-30, 50)){\r\n\t\t\t\t\tcustomConfig.flag.canMove = false;\r\n\t\t\t\t\tcustomConfig.flag.checkStop = false;\r\n\t\t\t\t\t//this.enemy.enemyTree.body.velocity.x = 0;\r\n\t\t\t\t\t//this.enemy.enemyBody.body.velocity.x = 0;\r\n\t\t\t\t\tthis.player.flagCoolDown = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t}else{\r\n\t\t\tthis.city1.stopScroll();\r\n\t\t\tthis.city2.stopScroll();\r\n\t\t\tthis.ground.stopScroll();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t/**\r\n\trender(){\r\n\t\tthis.game.debug.text(this.enemy.groupEnemy.x+this.enemy.enemyTree.x - this.player.playerBody.x, 20, 20);\r\n\t\tthis.game.debug.text(\"enemy.launchSpeed:\"+this.enemy.launchSpeed, 20, 40);\r\n\t\tthis.game.debug.text(\"emergency:\"+customConfig.flag.emergency, 20, 60);\r\n\t\tthis.game.debug.text(\"gW:\"+this.game.width, 20, 80);\r\n\t\tthis.game.debug.text(\"gH:\"+this.game.height, 20, 100);\r\n\t\tthis.game.debug.text(\"gw/gh ratio:\"+this.game.width/this.game.height, 20, 120);\r\n\t\tthis.game.debug.text(\"cW:\"+document.body.clientWidth, 20, 150);\r\n\t\tthis.game.debug.text(\"cH:\"+document.body.clientHeight, 20, 170);\r\n\t\tthis.game.debug.text(\"cW/cH:\"+document.body.clientWidth/document.body.clientHeight, 20, 190);\r\n\t\tthis.game.debug.text(\"customConfig.treeX\"+customConfig.common.enemyTreeX, 20, 300);\r\n\t\tthis.game.debug.text(\"enemyBody.X\"+this.enemy.enemyBody.x, 20, 320);\r\n\t\tthis.game.debug.text(\"enemyTree.height:\"+this.enemy.enemyTree.height, 20, 340);\r\n\t\tthis.game.debug.text(\"enemyBody.y:\"+this.enemy.enemyBody.y, 20, 360);\r\n\t\tthis.game.debug.body(this.enemy.enemyBody);\r\n\t\tthis.game.debug.body(this.enemy.enemyTree);\r\n\t\tthis.game.debug.body(this.player.playerBody);\r\n\t\tthis.game.debug.body(this.player.playerBullet);\r\n\t\t//this.game.debug.body(this.enemy.enemyBullet);\r\n\r\n\t}\r\n\t/**/\r\n}\r\n\r\nexport default Play;\n\n\n// WEBPACK FOOTER //\n// ./states/play.js","//import Phaser from \"phaser\";\r\nimport customConfig from \"../prefabs/customConfig\";\r\n\r\nclass Preload extends Phaser.State{\r\n\tinit(){\r\n\t\t//console.log(this.game.cache._cache);\r\n\t\t\r\n\t}\r\n\r\n\tpreload(){\r\n\t\tconsole.log(\"preload preload\");\r\n\t\t//this.loaderBar = this.game.add.sprite(this.game.world.centerX, this.game.world.centerY, customConfig.pics.go.key);\r\n        //this.loaderBar.anchor.setTo(0.5);\r\n        //this.load.setPreloadSprite(this.loaderBar);\r\n        this.textProgress = this.game.add.text(this.game.world.centerX, this.game.world.centerY, \"loading ...\\n\", {fill:\"#ff0000\", fontSize:20});\r\n        this.textProgress.anchor.set(0.5);\r\n        this.load.onFileComplete.add(this.fileComplete, this);\r\n        this.load.onLoadComplete.add(this.loadComplete, this);\r\n\t\tconsole.log(\"preload preloadSprite\");\r\n\r\n\t\tthis.load.image(customConfig.pics.cloud.key, customConfig.pics.cloud.url);\r\n\t\tthis.load.image(customConfig.pics.city1.key, customConfig.pics.city1.url);\r\n\t\tthis.load.image(customConfig.pics.city2.key, customConfig.pics.city2.url);\r\n\t\tthis.load.image(customConfig.pics.pink.key, customConfig.pics.pink.url);\r\n\t\tthis.load.image(customConfig.pics.ground.key, customConfig.pics.ground.url);\r\n\t\tthis.load.image(customConfig.pics.go.key, customConfig.pics.go.url);\r\n\t\tthis.load.image(customConfig.pics.replay.key, customConfig.pics.replay.url);\r\n\r\n\t\tthis.load.audio(customConfig.audio.enemyExplode.key, customConfig.audio.enemyExplode.url);\r\n\t\tthis.load.audio(customConfig.audio.enemyShot.key, customConfig.audio.enemyShot.url);\r\n\t\tthis.load.audio(customConfig.audio.playerExplode.key, customConfig.audio.playerExplode.url);\r\n\t\tthis.load.audio(customConfig.audio.playerShot.key, customConfig.audio.playerShot.url);\r\n\t\tthis.load.audio(customConfig.audio.hitGround.key, [customConfig.audio.hitGround.url, customConfig.audio.hitGround.url1]);\r\n\t\tconsole.log(\"preload finish preload\");\r\n\t\tconsole.log(this.game.cache._cache);\r\n\t}\r\n\t\r\n\tcreate(){\r\n\t\tconsole.log(\"preload create\");\r\n\t\t//console.log(this.game.cache._cache);\r\n\t\t//this.state.start(\"Menu\");\r\n\t\tconsole.log(\"preload finish create\");\r\n\t}\r\n\r\n\tfileComplete(progress){\r\n\t\tthis.textProgress.text = \"loading ...\\n\"+progress+\"%\";\r\n\t}\r\n\r\n\tloadComplete(){\r\n\t\tthis.state.start(\"Menu\");\r\n\t}\r\n}\r\n\r\nexport default Preload\n\n\n// WEBPACK FOOTER //\n// ./states/preload.js","import customConfig from \"./customConfig\";\r\n\r\nclass Enemy extends Phaser.Sprite{\r\n\tconstructor(_game, _x, _y, _player, _ground){\r\n\t\tsuper(_game, _x, _y, _player, _ground);\r\n\t\tthis.game = _game;\r\n\t\tthis.x = _x;\r\n\t\tthis.y = _y;\r\n\t\tthis.player = _player;\r\n\t\tthis.ground = _ground;\r\n\t\tthis.enemyTree;\r\n\t\tthis.enemyBody;\r\n\t\tthis.enemyBullet;\r\n\r\n\t\tthis.launchSpeed = 800;\r\n\t\tthis.flagEnemyHoldBullet = true;\r\n\t\tthis.flagEnemyBulletMissedPlayer = false;\r\n\r\n\t\tthis.groupEnemy = this.game.add.group();\r\n\t\t//this.groupEnemy.position.set(this.x, this.ground.y);\r\n\r\n\t\t/*\r\n\t\tthis.enemyTree = this.game.add.sprite(0, 0, customConfig.pics.tree.key);\r\n\t\tthis.enemyTree.anchor.set(0.5, 1);\r\n\t\t//this.enemyTree.scale.set(0.15, 0.3+this.game.rnd.realInRange(0, 0.7));\r\n\t\tthis.enemyTree.scale.set(0.15, 0.3+this.game.rnd.realInRange(0, 1.2));\r\n\t\tthis.game.physics.arcade.enable(this.enemyTree);\r\n\t\tthis.enemyTree.body.immovable = true; //穿透\r\n\t\tthis.enemyTree.body.allowGravity = false;\r\n\t\t//this.enemyTree.body.gravity.y = 200;\r\n\t\tthis.enemyTree.position.set(this.x, this.ground.y);\r\n\t\t*/\r\n\r\n\t\t\r\n\t\tthis.enemyTree = this.game.add.sprite(0, 0, customConfig.pics.tree.key);\r\n\t\tthis.enemyTree.anchor.set(0.5, 1);\r\n\t\tthis.enemyTree.scale.set(0.15, 0.3+this.game.rnd.realInRange(0, 1.2));\r\n\t\tthis.enemyTree.position.set(this.x, this.ground.y);\r\n\t\tthis.game.physics.arcade.enable(this.enemyTree);\r\n\t\tthis.enemyTree.body.syncBounds = true;\r\n\t\tthis.enemyTree.body.immovable = true; //穿透\r\n\t\tthis.enemyTree.body.allowGravity = false;\r\n\t\tthis.groupEnemy.add(this.enemyTree);\r\n\r\n\t\t/*\r\n\t\tthis.enemyBody = this.game.add.sprite(0, 0, customConfig.pics.enemyBody.key);\r\n\t\tthis.enemyBody.anchor.set(0.5);\r\n\t\tthis.enemyBody.scale.set(0.1, 0.2);\r\n\t\tthis.game.physics.arcade.enable(this.enemyBody);\r\n\t\t//this.enemyBody.body.immovable = true;\r\n\t\t//this.enemyBody.body.allowGravity = true;\r\n\t\t//this.enemyBody.body.allowGravity = false;\r\n\t\tthis.enemyBody.body.gravity.y = 500;\r\n\t\tthis.enemyBody.position.set(this.enemyTree.x, this.enemyTree.y-this.enemyTree.height-this.enemyBody.height/2);\r\n\t\t*/\r\n\t\t\r\n\t\t/*\r\n\t\tthis.enemyBody = this.game.add.sprite(0, 0, customConfig.pics.enemyBody.key);\r\n\t\tthis.enemyTree.addChild(this.enemyBody);\r\n\t\tthis.enemyBody.anchor.set(0.5);\r\n\t\t//this.enemyBody.scale.set(0.5, 0.2);\r\n\t\tthis.enemyBody.tint = 0xff0000;\r\n\t\tthis.enemyBody.position.set(0, -this.enemyTree.height/this.enemyTree.scale.y-this.enemyBody.height/2);\r\n\t\tthis.game.physics.arcade.enable(this.enemyBody);\r\n\t\tthis.enemyBody.body.setSize(this.enemyBody.width*this.enemyTree.scale.x, this.enemyBody.height*this.enemyTree.scale.y, this.enemyBody.width/2, 0);\r\n\t\tthis.enemyBody.body.allowGravity = false;\r\n\t\tthis.enemyBody.body.immovable = true;\r\n\t\t*/\r\n\t\r\n\t\tthis.enemyBody = this.game.add.sprite(0, 0, customConfig.pics.enemyBody.key);\r\n\t\tthis.enemyBody.anchor.set(0.5);\r\n\t\tthis.enemyBody.scale.set(0.1,  0.2);\r\n\t\tthis.enemyBody.tint = 0xff0000;\r\n\t\tthis.enemyBody.position.set(this.enemyTree.x, this.enemyTree.y-this.enemyTree.height-this.enemyBody.height/2);\r\n\t\tthis.game.physics.arcade.enable(this.enemyBody);\r\n\t\t/**\r\n\t\tthis.enemyBody.body.setSize(this.enemyBody.width*this.enemyTree.scale.x/this.enemyBody.scale.x, \r\n\t\t\tthis.enemyBody.height*this.enemyTree.scale.y/this.enemyBody.scale.y, this.enemyBody.width/2, 0);\r\n\t\t/**/\r\n\t\tthis.enemyBody.body.syncBounds = true;\r\n\t\tthis.enemyBody.body.allowGravity = false;\r\n\t\tthis.enemyBody.body.immovable = true;\r\n\t\tthis.groupEnemy.add(this.enemyBody);\r\n\r\n\t\tthis.enemyBullet = this.game.add.sprite(0, 0, customConfig.pics.enemyBullet.key);\r\n\t\tthis.enemyBullet.anchor.set(0, 0.5);\r\n\t\tthis.enemyBullet.scale.set(0.15, 0.01);\r\n\t\tthis.enemyBullet.angle = -180;\r\n\t\tthis.game.physics.arcade.enable(this.enemyBullet);\r\n\t\tthis.enemyBullet.body.allowGravity = false;\r\n\t\tthis.enemyBullet.body.gravity.y = 500;\r\n\t\tthis.enemyBullet.checkWorldBounds = true;\r\n\t\tthis.enemyBullet.events.onOutOfBounds.add(this.enemyBulletOutOfBounds, this);\r\n\t\tthis.enemyBullet.position.set(this.enemyBody.x, this.enemyBody.y-this.enemyBody.height/2);\r\n\t\tthis.groupEnemy.add(this.enemyBullet);\r\n\r\n\t    //this.fxPlayerExplode = this.game.add.audio(customConfig.audio.playerExplode.key);\r\n\t    this.fxEnemyShot = this.game.add.audio(customConfig.audio.enemyShot.key);\r\n\t    //this.fxHitGround = this.game.add.audio(customConfig.audio.hitGround.key);\r\n\t\tconsole.log(\"new enemy\");\r\n\t}\r\n\r\n\tupdate(){\r\n\t\t//this.game.physics.arcade.collide(this.enemyTree, this.ground);\r\n\t\tthis.game.physics.arcade.collide(this.enemyBody, this.enemyTree);\r\n\t\tthis.game.physics.arcade.collide(this.enemyBody, this.ground, this.enemyBodyHitGround, null ,this);\r\n\t\tthis.game.physics.arcade.collide(this.enemyBullet, this.player.playerBody, this.enemyBulletHitPlayerBody, null, this);\r\n\t\tthis.game.physics.arcade.collide(this.enemyBullet, this.ground, this.enemyBulletHitGround, null, this);\r\n\r\n\t\t//this.enemyBody.x = this.enemyTree.x;\r\n\t\t//this.enemyBody.y = this.enemyTree.y-this.enemyTree.height-this.enemyBody.height/2;\r\n\t\tif(this.flagEnemyHoldBullet){\r\n\t\t\tthis.enemyBullet.x = this.enemyBody.x;\r\n\t\t\tthis.enemyBullet.y = this.enemyBody.y;\r\n\t\t\tif(customConfig.flag.emergency){\r\n\t\t\t\tthis.enemyBullet.rotation = this.game.physics.arcade.angleBetween(this.enemyBullet, this.player.playerBody);\r\n\t\t\t}else{\r\n\t\t\t\tthis.enemyBullet.rotation = this.game.physics.arcade.angleBetween(this.enemyBullet, this.player.playerBody)+0.2;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif(!customConfig.flag.emergency){\r\n\t\t\t\tthis.changeAngle(-8);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(this.player.flagPlayerBulletMissedEnemy){\r\n\t\t\tthis.enemyLaunch();\r\n\t\t}\r\n\t\tif(customConfig.flag.canMove){\r\n\t\t\tthis.move(-7);\r\n\t\t}\r\n\t}\r\n\r\n\tenemyBodyHitGround(enemyBody, ground){\r\n\t\tif(this.flagEnemyHoldBullet){\r\n\t\t\tenemyBody.position.set(this.enemyTree.x, this.enemyTree.y-this.enemyTree.height-this.enemyBody.height/2);\r\n\t\t\tconsole.log(\"enemyBodyHitGround\");\r\n\t\t}\r\n\t}\r\n\r\n\tenemyBulletHitPlayerBody(enemyBullet, playerBody){\r\n\t\tenemyBullet.kill();\r\n\t\tplayerBody.kill();\r\n\t\tthis.player.playerBullet.kill();\r\n\t\tthis.flagEnemyBulletMissedPlayer = false;\r\n\t\tif(customConfig.flag.emergency){\r\n\t\t\tcustomConfig.flag.emergency = false;\r\n\t\t}\r\n\t\t//this.fxPlayerExplode.play();\r\n\t\tthis.game.time.events.add(200, this.gameOver, this);\r\n\t\tconsole.log(\"enemyBulletHitPlayerBody\");\r\n\t}\r\n\r\n\tenemyBulletHitGround(enemyBullet, ground){\r\n\t\tif(this.flagEnemyHoldBullet){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.flagEnemyBulletMissedPlayer = true;\r\n\t\tenemyBullet.kill();\r\n\t\tthis.game.time.events.add(100, this.reviveEnemyBullet, this);\r\n\t\tcustomConfig.flag.emergency = true;\r\n\t\t//this.fxHitGround.play();\r\n\t\tconsole.log(\"enemyBodyHitGround\");\r\n\t}\r\n\r\n\tenemyLaunch(){\r\n\t\tif(this.flagEnemyHoldBullet){\r\n\t\t\tif(!customConfig.flag.emergency){\r\n\t\t\t\tthis.enemyBullet.rotation = this.game.physics.arcade.angleBetween(this.enemyBullet, this.player.playerBody)+0.2;\r\n\t\t\t\tthis.game.physics.arcade.velocityFromRotation(this.enemyBullet.rotation, this.launchSpeed, this.enemyBullet.body.velocity);\r\n\t\t\t\tthis.enemyBullet.body.allowGravity = true;\r\n\t\t\t}else{\r\n\t\t\t\tthis.enemyBullet.rotation = this.game.physics.arcade.angleBetween(this.enemyBullet, this.player.playerBody);\r\n\t\t\t\tthis.game.physics.arcade.velocityFromRotation(this.enemyBullet.rotation, this.launchSpeed, this.enemyBullet.body.velocity);\r\n\t\t\t\tthis.enemyBullet.body.allowGravity = false;\r\n\t\t\t\tconsole.log(\"emergency launch\");\r\n\t\t\t}\r\n\t\t\tthis.flagEnemyHoldBullet = false;\t//不加的话，转弯也要朝向player\r\n\t\t\tthis.fxEnemyShot.play();\r\n\t\t\tconsole.log(\"enemyLaunch\");\r\n\t\t}\r\n\t}\r\n\r\n\tenemyBulletOutOfBounds(enemyBullet){\r\n\t\tif(this.flagEnemyHoldBullet){\r\n\t\t\tconsole.log(\"enemyBulletOutOfBounds, but,,,\")\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.enemyBullet.kill();\r\n\t\tthis.flagEnemyBulletMissedPlayer = true;//\r\n\t\tthis.game.time.events.add(100, this.reviveEnemyBullet, this);\r\n\t\tcustomConfig.flag.emergency = true;\r\n\t\t//this.fxHitGround.play();\r\n\t\tconsole.log(\"enemyBulletOutOfBounds\");\r\n\t}\r\n\r\n\treviveEnemyBullet(){\r\n\t\tthis.enemyBullet.reset(this.enemyBody.x, this.enemyBody.y);\r\n\t\tthis.enemyBullet.angle = -180;\r\n\t\tthis.enemyBullet.body.allowGravity = false;\r\n\t\tthis.flagEnemyHoldBullet = true;\r\n\t\tthis.flagEnemyBulletMissedPlayer = false;//\r\n\t\tconsole.log(\"reviveEnemyBullet\");\r\n\t}\r\n\r\n\tchangeAngle(p){\r\n\t\tthis.enemyBullet.rotation += p*0.001;\r\n\t}\r\n\r\n\tgameOver(){\r\n\t\tthis.game.state.start(\"Menu\");\r\n\t\tconsole.log(\"gameOver\");\r\n\t}\r\n\r\n\tsetEnemyLaunchSpeed(playerX, enemyX){\r\n\t\tif(enemyX-playerX < 500){\r\n\t\t\tthis.launchSpeed = 750;\r\n\t\t}else{\r\n\t\t\tthis.launchSpeed =750+ (enemyX - playerX-500)/500*400;\r\n\t\t\t//this.launchSpeed =750+ (enemyX - playerX-500)/500*100;\r\n\t\t}\r\n\t}\r\n\r\n\tmove(x){\r\n\t\tthis.groupEnemy.x += x;\r\n\t\tif(this.groupEnemy.x+this.enemyTree.x+this.enemyTree.width/2 <this.game.camera.x){\r\n\t\t\tthis.groupEnemy.position.set(this.game.camera.x+this.game.camera.width+this.enemyTree.width/2-this.enemyTree.x, 0);\r\n\t\t\tthis.enemyTree.scale.set(this.game.rnd.realInRange(0.12, 0.2), this.game.rnd.realInRange(0.2, 1.3));\r\n\t\t\tthis.enemyBody.revive();\r\n\t\t\tthis.enemyBody.position.set(this.enemyTree.x, this.enemyTree.y-this.enemyTree.height-this.enemyBody.height/2);\r\n\t\t\tthis.reviveEnemyBullet();\r\n\t\t\tcustomConfig.flag.checkStop = true;\r\n\t\t\tconsole.log(\"reset tree\");\r\n\t\t}\r\n\t\tif(customConfig.flag.checkStop){\r\n\t\t\t//this.setEnemyTreeX();\r\n\t\t\tthis.setEnemyLaunchSpeed(this.player.playerBody.x, this.groupEnemy.x+this.enemyTree.x);\r\n\t\t\tif(this.groupEnemy.x+this.enemyTree.x < customConfig.common.enemyTreeX+this.game.rnd.between(-30, 50)){\r\n\t\t\t\tcustomConfig.flag.canMove = false;\r\n\t\t\t\tcustomConfig.flag.checkStop = false;\r\n\t\t\t\tthis.player.flagCoolDown = true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n\r\nexport default Enemy;\n\n\n// WEBPACK FOOTER //\n// ./prefabs/enemy.js","import customConfig from \"./customConfig\";\r\n\r\nclass Player extends Phaser.Sprite{\r\n \tconstructor(_game, _x, _y, _enemy, _ground){\r\n \t\tsuper(_game, _x, _y, _enemy, _ground);\r\n\t\t//Phaser.Sprite.call(this, _game, _x, _y);\r\n\t\tthis.game = _game;\r\n\t\tthis.x = _x;\r\n\t\tthis.y = _y;\r\n\t\tthis.ground = _ground;\r\n\t\tthis.enemy = _enemy;\r\n\t\tthis.enemy;\r\n\t\tthis.playerBody;\r\n\t\tthis.playerBullet;\r\n\r\n\t\tthis.launchSpeed = 800;\r\n\t\tthis.flagRotate = -1;\r\n\t\tthis.flagPlayerHoldBullet = true;\r\n\t\tthis.flagPlayerBulletMissedEnemy = false;\r\n\t\tthis.flagCoolDown = true;\r\n\r\n\t\tthis.playerBody = this.game.add.sprite(0, 0, customConfig.pics.playerBody.key);\r\n\t\tthis.playerBody.anchor.set(0.5);\r\n\t\tthis.playerBody.scale.set(0.1, 0.2);\r\n\t\tthis.playerBody.position.set(this.x, this.ground.y-100);\r\n\t\tthis.game.physics.arcade.enable(this.playerBody);\r\n\t\tthis.playerBody.body.gravity.y = 200;\r\n\t\t//this.playerBody.body.immovable = true;//穿透\r\n\t\tthis.playerBody.getPlayer = this.getPlayer;\r\n\t\t//this.playerBody.checkWorldBounds = true;\r\n\t\t//this.playerBody.events.onOutOfBounds.add(this.playerBodyOutOfBounds, this);\r\n\r\n\t\tthis.playerBullet = this.game.add.sprite(this.playerBody.x, this.playerBody.y, customConfig.pics.playerBullet.key);\r\n\t\tthis.playerBullet.anchor.set(0, 0.5);\r\n\t\tthis.playerBullet.scale.set(0.15, 0.01);\r\n\t\tthis.playerBullet.tint = 0xff0000;\r\n\t\tthis.game.physics.arcade.enable(this.playerBullet);\r\n\t\tthis.playerBullet.body.gravity.y = 500;\r\n\t\tthis.playerBullet.body.allowGravity = false;\r\n\t\tthis.playerBullet.checkWorldBounds = true;\r\n\t\tthis.playerBullet.events.onOutOfBounds.add(this.playerBulletOutOfBounds, this);\r\n\r\n\t\tthis.playerBody.bringToTop();\r\n\r\n\t\tthis.game.input.onDown.add(this.eventOnKeyDown, this);\r\n\t\tthis.game.input.onUp.add(this.eventOnKeyUp, this);\t\r\n\r\n\t\tthis.fxPlayerShot = this.game.add.audio(customConfig.audio.playerShot.key);\r\n\t    //this.fxEnemyExplode = this.game.add.audio(customConfig.audio.enemyExplode.key);\r\n\t    //this.fxHitGround = this.game.add.audio(customConfig.audio.hitGround.key);\r\n\t}\r\n\r\n\tupdate(){\r\n\t\tthis.game.physics.arcade.collide(this.playerBody, this.ground, this.playerBodyHitGround, null, this);\r\n\t\tthis.game.physics.arcade.collide(this.playerBullet, this.enemy.enemyBody, this.playerBulletHitEnemy, null, this);\r\n\t\tthis.game.physics.arcade.collide(this.playerBullet, this.ground, this.playerBulletHitGround, null, this);\r\n\t\tif(this.flagPlayerHoldBullet){\r\n\t\t\tthis.playerBullet.x = this.playerBody.x;\r\n\t\t\tthis.playerBullet.y = this.playerBody.y;\r\n\t\t\tif(customConfig.flag.onDown && this.flagCoolDown){\r\n\t\t\t\tthis.changeAngle(12*this.flagRotate);\r\n\t\t\t\tif(this.playerBullet.angle <-90){\r\n\t\t\t\t\tthis.flagRotate = -this.flagRotate;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.playerBullet.angle >0){\r\n\t\t\t\t\tthis.flagRotate = -this.flagRotate;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tthis.changeAngle(10);\r\n\t\t}\r\n\t\tif(this.enemy.flagEnemyBulletMissedPlayer){\r\n\t\t\tthis.revivePlayerBullet();\r\n\t\t\tthis.flagCoolDown = true;\r\n\t\t}\r\n\t}\r\n\r\n\tgetPlayer(){\r\n\t\treturn this;\r\n\t}\r\n\r\n\teventOnKeyDown(){\r\n\t\tif(customConfig.flag.onDown){\r\n\t\t\tconsole.log(\"eventOnKeyDown return!!!\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tcustomConfig.flag.onDown = true;\r\n\t\tconsole.log(\"eventOnKeyDown\");\r\n\t}\r\n\r\n\teventOnKeyUp(){\r\n\t\tif(customConfig.flag.onDown){\r\n\t\t\tcustomConfig.flag.onDown = false;\r\n\t\t\tif(this.flagPlayerHoldBullet){\r\n\t\t\t\tthis.PlayerLaunch();\r\n\t\t\t\t//this.flagPlayerHoldBullet = false;\r\n\t\t\t}\r\n\t\t\tconsole.log(\"eventOnKeyUp\");\r\n\t\t}\r\n\t}\r\n\r\n\tchangeAngle(p){\r\n\t\tthis.playerBullet.rotation += p*0.001;\r\n\t}\r\n\r\n\tPlayerLaunch(){\r\n\t\tif(this.flagPlayerHoldBullet && this.flagCoolDown){\r\n\t\t\tthis.game.physics.arcade.velocityFromAngle(this.playerBullet.angle, this.launchSpeed, this.playerBullet.body.velocity);\r\n\t\t\tthis.playerBullet.body.allowGravity = true;\r\n\t\t\tthis.flagPlayerHoldBullet = false;\r\n\t\t\tthis.flagCoolDown = false;\r\n\t\t\tthis.fxPlayerShot.play();\r\n\t\t\tconsole.log(\"PlayerLaunch\");\r\n\t\t}\r\n\t}\r\n\r\n\tplayerBodyHitGround(playerBody, ground){\r\n\t\tplayerBody.body.allowGravity = false;\r\n\t\tconsole.log(\"playerBodyHitGround\");\r\n\t}\r\n\r\n\tplayerBulletHitEnemy(playerBullet, enemyBody){\r\n\t\tplayerBullet.kill();\r\n\t\tenemyBody.kill();\r\n\t\tthis.enemy.enemyBullet.kill();\r\n\t\tthis.revivePlayerBullet();\r\n\t\tcustomConfig.flag.canMove = true;\r\n\t\tif(customConfig.flag.emergency){\r\n\t\t\tcustomConfig.flag.emergency = false;\r\n\t\t}\r\n\t\t//this.fxEnemyExplode.play();\r\n\t\tconsole.log(\"playerBulletHitEnemy\");\r\n\t}\r\n\r\n\tplayerBulletHitGround(playerBullet, ground){\r\n\t\tif(this.flagPlayerHoldBullet){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tplayerBullet.kill();\r\n\t\tthis.flagPlayerBulletMissedEnemy = true;\r\n\t\tthis.enemy.enemyLaunch();\r\n\t\t//this.fxHitGround.play();\r\n\t\tconsole.log(\"playerBulletHitGround\");\r\n\t}\r\n\r\n\tplayerBulletOutOfBounds(playerBullet){\r\n\t\tif(this.flagPlayerHoldBullet){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tplayerBullet.kill();\r\n\t\tthis.flagPlayerBulletMissedEnemy = true;\r\n\t\tthis.enemy.enemyLaunch();\r\n\t\t//this.fxHitGround.play();\r\n\t\tconsole.log(\"playerBulletOutOfBounds\");\r\n\t}\r\n\r\n\trevivePlayerBullet(){\r\n\t\tif(this.playerBullet.alive == true){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.playerBullet.reset(this.playerBody.x, this.playerBody.y);\r\n\t\tthis.playerBullet.angle = 0;\r\n\t\tthis.playerBullet.body.allowGravity = false;\r\n\t\tthis.flagPlayerHoldBullet = true;\r\n\t\tthis.flagPlayerBulletMissedEnemy = false;\r\n\t\tconsole.log(\"revivePlayerBullet\");\r\n\t}\r\n\r\n\tsetEnemy(enemy){\r\n\t\tthis.enemy = enemy;\r\n\t\tconsole.log(\"setEnemy\");\r\n\t}\r\n\t/**\r\n\trender(){\r\n\t\tthis.game.debug.text(\"flagPlayerHoldBullet: \"+this.flagPlayerHoldBullet, 20, this.game.world.height-20);\r\n\t\tthis.game.debug.text(\"flagPlayerBulletMissedEnemy: \"+this.flagPlayerBulletMissedEnemy, 20, this.game.world.height-40);\r\n\t\tthis.game.debug.text(\"this.playerBullet.alive: \"+this.playerBullet.alive, 20, 60);\r\n\t\tthis.game.debug.body(this.playerBody);\r\n\t\tthis.game.debug.body(this.playerBullet);\r\n\t}\r\n\t/**/\r\n}\r\n\r\nexport default Player;\n\n\n// WEBPACK FOOTER //\n// ./prefabs/player.js","//import Phaser from \"phaser\";\r\nimport Boot from \"./boot\";\r\nimport Preload from \"./preload\";\r\nimport Menu from \"./menu\";\r\nimport Play from \"./play\";\r\n\r\nvar gameBestWidth = 800;\r\nvar gameBestHeight = 600;\r\n\r\n/*\r\nvar gameBestRatio = gameBestWidth / gameBestHeight;\r\n// Get viewport ratio.\r\nvar viewport_w = window.innerWidth;\r\nvar viewport_h = window.innerHeight;\r\nvar viewportRatio = viewport_w / viewport_h;\r\nvar content = document.getElementById(\"content\");\r\nif(gameBestRatio > viewportRatio){\r\n    // take viewport height as base value\r\n    content.style.width  = viewport_w + \"px\";\r\n    content.style.height = (viewport_w / gameBestRatio) + \"px\";\r\n} else if(gameBestRatio < viewportRatio){\r\n    // take viewport width as base value\r\n    content.style.height = viewport_h + \"px\";\r\n    content.style.width  = (viewport_h * gameBestRatio) + \"px\";\r\n} \r\n*/\r\n//-----------------------------------------------------------\r\n\r\n/*\r\nvar game;\r\nvar flage;\r\ngoPC();\r\nfunction goPC(){\r\n\tvar userAgentInfo = navigator.userAgent;\r\n\tvar Agents = new Array(\"Android\", \"iPhone\", \"SymbianOS\", \"Windows Phone\", \"iPad\", \"iPod\");\r\n\tflage = true;\r\n\r\n\tfor (var v = 0; v < Agents.length; v++) {\r\n\t\tif (userAgentInfo.indexOf(Agents[v]) > 0){ \r\n\t\t\tflage = false;\r\n\t\t\tbreak; \r\n\t\t}\r\n\t}\r\n  return flage;\r\n}\r\nif(flage){\r\n  game = new Phaser.Game(800,592,Phaser.AUTO,'content');\r\n}else{\r\n  game = new Phaser.Game(Math.floor(window.innerWidth/16)*16,Math.floor(window.innerHeight/16)*16,Phaser.AUTO,'content');\r\n}\r\n*/\r\n//----------------------------------------------------------------\r\n\r\n/*\r\nisLandscape, \r\nonOrientationChange()\r\nscreenOrientation\r\nsetResizeCallback()\r\nsetUserScale()\r\n*/\r\n\r\n//var gameBestRatio = gameBestWidth / gameBestHeight;\r\n/*\r\nvar viewport_w = window.innerWidth;\r\nvar viewport_h = window.innerHeight;\r\nvar viewportRatio = viewport_w / viewport_h;\r\n\r\nvar content = document.getElementById(\"content\");\r\n\r\nif(gameBestRatio > viewportRatio){\r\n    // take viewport height as base value\r\n    content.style.width  = viewport_w + \"px\";\r\n    content.style.height = (viewport_w / gameBestRatio) + \"px\";\r\n} else if(gameBestRatio < viewportRatio){\r\n    // take viewport width as base value\r\n    content.style.height = viewport_h + \"px\";\r\n    content.style.width  = (viewport_h * gameBestRatio) + \"px\";\r\n} \r\n*/\r\n//-------------------------------------------------------\r\n//document.getElementById('content').style.width = document.body.clientWidth + 'px';\r\n//document.getElementById('content').style.height = document.body.clientHeight + 'px';\r\nvar gameBestRatio = document.body.clientWidth/document.body.clientHeight;\r\nif(gameBestRatio<1){\r\n\tgameBestRatio = 1/gameBestRatio;\r\n}\r\nif(gameBestRatio < 1.2){\r\n    gameBestRatio = 1.2;\r\n}else if(gameBestRatio > 2.5){\r\n    gameBestRatio = 2.5;\r\n}\r\nconsole.log(\"w:\"+document.body.clientWidth,\"\\nH:\"+document.body.clientHeight);\r\nconsole.log(\"ratio:\"+gameBestRatio)\r\ndocument.getElementById('content').style.width = document.body.clientWidth + 'px';\r\ndocument.getElementById('content').style.height = document.body.clientHeight + 'px';\r\ngameBestWidth = gameBestHeight*gameBestRatio;\r\nvar game = new Phaser.Game(gameBestWidth, gameBestHeight, Phaser.CANVAS , \"content\");\r\ngame.state.add(\"Boot\", Boot);\r\ngame.state.add(\"Preload\", Preload);\r\ngame.state.add(\"Menu\", Menu);\r\ngame.state.add(\"Play\", Play);\r\ngame.state.start(\"Boot\");\r\n\r\n/*\r\ngame.scale.onOrientationChange.add(resizeCallback, game.scale);\r\nresizeCallback = function(){\r\n\tif(game.scale.isLandscape){\r\n\t\tconsole.log(\"resizeCallback2, is Landscape\");\r\n\t\t//setUserScale()\r\n\t}\r\n}\r\n*/\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./states/index.js"],"sourceRoot":""}