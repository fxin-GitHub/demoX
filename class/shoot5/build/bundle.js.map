{"version":3,"sources":["webpack:///webpack/bootstrap a6d0351ccc858182ad8b","webpack:///./prefabs/customConfig.js","webpack:///./states/boot.js","webpack:///./states/menu.js","webpack:///./states/play.js","webpack:///./states/preload.js","webpack:///./prefabs/enemy.js","webpack:///./prefabs/player.js","webpack:///./states/index.js"],"names":["assetsPath","customConfig","cloud","key","url","city1","city2","ground","playerBody","defaultKey","defaultUrl","playerBullet","enemyBody","enemyBullet","tree","pink","go","replay","flag","onDown","canMove","checkStop","common","enemyTreeX","scrollSpeed","Boot","game","state","backgroundColor","load","image","scale","scaleMode","Phaser","ScaleManager","SHOW_ALL","pageAlignHorizontally","refresh","start","console","log","isLandscape","isPortrait","State","Menu","flagShowBtnStart","btnStart","add","button","world","centerX","centerY","startGame","anchor","set","visible","btnReplay","tween","to","x","y","Easing","BounceInOut","Play","physics","startSystem","Physics","ARCADE","stage","tileSprite","fixedToCamera","position","height","arcade","enable","body","immovable","allowGravity","player","enemy","setEnemy","pageAlignVertically","update","autoScroll","enemyTree","velocity","width","camera","reset","rnd","realInRange","revive","reviveEnemyBullet","between","stopScroll","flagCoolDown","Preload","Enemy","_game","_x","_y","_player","_ground","launchSpeed","flagEnemyHoldBullet","flagEnemyBulletMissedPlayer","sprite","gravity","angle","checkWorldBounds","events","onOutOfBounds","enemyBulletOutOfBounds","collide","enemyBodyHitGround","enemyBulletHitPlayerBody","enemyBulletHitGround","rotation","angleBetween","changeAngle","flagPlayerBulletMissedEnemy","enemyLaunch","kill","gameOver","time","velocityFromRotation","p","Sprite","Player","_enemy","flagRotate","flagPlayerHoldBullet","getPlayer","tint","playerBulletOutOfBounds","input","eventOnKeyDown","onUp","eventOnKeyUp","playerBodyHitGround","playerBulletHitEnemy","playerBulletHitGround","revivePlayerBullet","PlayerLaunch","velocityFromAngle","alive","debug","text","gameBestWidth","gameBestHeight","gameBestRatio","document","clientWidth","clientHeight","Game","CANVAS"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a6d0351ccc858182ad8b","var assetsPath = \"demo1Assets/\";\r\nvar customConfig = {\r\n\tcloud: {\r\n\t\tkey: \"cloud\",\r\n\t\turl: assetsPath+\"cloud.jpg\"\r\n\t},\r\n\tcity1: {\r\n\t\tkey: \"city1\",\r\n\t\turl: assetsPath+\"city1.png\"\r\n\t},\r\n\tcity2: {\r\n\t\tkey: \"city2\",\r\n\t\turl: assetsPath+\"city2.png\"\r\n\t},\r\n\tground: {\r\n\t\tkey: \"ground\",\r\n\t\turl: assetsPath+\"ground.png\"\r\n\t},\r\n\tplayerBody: {\r\n\t\tkey: \"pink\",\r\n\t\turl: assetsPath+\"pink.png\",\r\n\t\tdefaultKey: \"playerBody\",\r\n\t\tdefaultUrl: assetsPath+\"playerBody.png\"\r\n\t},\r\n\tplayerBullet: {\r\n\t\tkey: \"pink\",\r\n\t\turl: assetsPath+\"pink.png\",\r\n\t\tdefaultKey: \"playerBullet\",\r\n\t\tdefaultUrl: assetsPath+\"playerBullet.png\"\r\n\t},\r\n\tenemyBody: {\r\n\t\tkey: \"pink\",\r\n\t\turl: assetsPath+\"pink.png\",\r\n\t\tdefaultKey: \"enemyBody\",\r\n\t\tdefaultUrl: assetsPath+\"enemyBody.png\"\r\n\t},\r\n\tenemyBullet: {\r\n\t\tkey: \"pink\",\r\n\t\turl: assetsPath+\"pink.png\",\r\n\t\tdefaultKey: \"enemyBullet\",\r\n\t\tdefaultUrl: assetsPath+\"enemyBullet.png\"\r\n\t},\r\n\ttree: {\r\n\t\tkey: \"pink\",\r\n\t\turl: assetsPath+\"pink.png\",\r\n\t\tdefaultKey: \"tree\",\r\n\t\tdefaultUrl: assetsPath+\"tree.png\"\r\n\t},\r\n\tpink: {\r\n\t\tkey: \"pink\",\r\n\t\turl: assetsPath+\"pink.png\"\r\n\t},\r\n\tgo: {\r\n\t\tkey: \"go\",\r\n\t\turl: assetsPath+\"go.png\"\r\n\t},\r\n\treplay: {\r\n\t\tkey: \"replay\",\r\n\t\turl: assetsPath+\"replay.png\"\r\n\t},\r\n\tflag: {\r\n\t\tonDown: false,\r\n\t\tcanMove: false,\r\n\t\tcheckStop: false,\r\n\t},\r\n\tcommon: {\r\n\t\tenemyTreeX: 600,\r\n\t\tscrollSpeed: -5\r\n\t}\r\n\r\n};\r\n\r\nexport default customConfig;\r\n\n\n\n// WEBPACK FOOTER //\n// ./prefabs/customConfig.js","//import Phaser from \"phaser\";\r\nimport customConfig from \"../prefabs/customConfig\";\r\n\r\nclass Boot extends Phaser.State{\r\n\tpreload(){\r\n\t\tthis.game.state.backgroundColor = 0x213456;\r\n\t\tthis.load.image(customConfig.go.key, customConfig.go.url);\r\n\t}\r\n\r\n\tcreate(){\r\n\t\t//this.game.scale.scaleMode = Phaser.ScaleManager.EXACT_FIT;\r\n\t\tthis.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n\t\t//this.game.scale.scaleMode = Phaser.ScaleManager.RESIZE;\r\n\t    this.scale.pageAlignHorizontally =  true;\r\n\t    this.scale.refresh();\r\n\t\t//this.game.scale.onOrientationChange.add(this.resize, this);\r\n\t\t//this.scale.forcePortrait = true;\r\n\t\t//this.scale.forceLandscape = true;\r\n\t\tthis.state.start(\"Preload\");\r\n\t\tconsole.log(this.scale.pageAlignHorizontally);\r\n\t\tconsole.log(this.game.scale.pageAlignHorizontally);\r\n\t}\r\n\r\n\tresize(){\r\n\t\tif(this.game.scale.isLandscape){\r\n\t\t\t//console.log(\"contentW0: \"+document.getElementById('content').style.width, \"\\ncontentH0: \"+document.getElementById('content').style.width);\r\n\t\t\t//document.getElementById('content').style.width = document.body.clientWidth + 'px';\r\n\t\t\t//document.getElementById('content').style.height = document.body.clientHeight + 'px';\r\n\t\t\t//this.game.scale.setGameSize(this.game.width+100, this.game.height);\r\n\t\t\t//console.log(this.game.width, this.game.height);\r\n\t\t\t//console.log(\"isLandscape\");\r\n\t\t\t//console.log(\"W: \"+document.body.clientWidth, \"H: \"+document.body.clientHeight);\r\n\t\t\t//console.log(\"contentW: \"+document.getElementById('content').style.width, \"\\ncontentH: \"+document.getElementById('content').style.width);\r\n\t\t}else if(this.game.scale.isPortrait){\r\n\t\t\t//console.log(\"contentW0: \"+document.getElementById('content').style.width, \"\\ncontentH0: \"+document.getElementById('content').style.width);\r\n\t\t\t//console.log(this.game.width, this.game.height);\r\n\t\t\t//document.getElementById('content').style.width = document.body.clientWidth + 'px';\r\n\t\t\t//document.getElementById('content').style.height = document.body.clientHeight + 'px';\r\n\t\t\t//console.log(\"isPortrait\");\r\n\t\t\t//console.log(\"W: \"+document.body.clientWidth, \"H: \"+document.body.clientHeight);\r\n\t\t\t//console.log(\"contentW: \"+document.getElementById('content').style.width, \"\\ncontentH: \"+document.getElementById('content').style.width);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default Boot;\r\n\n\n\n// WEBPACK FOOTER //\n// ./states/boot.js","//import Phaser from \"phaser\";\r\nimport customConfig from \"../prefabs/customConfig\";\r\n\r\nclass Menu extends Phaser.State{\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t\tthis.flagShowBtnStart = true;\r\n\t}\r\n\r\n\tcreate(){\r\n\t\t//console.log(\"menu create\");\r\n\t\tthis.btnStart = this.add.button(this.game.world.centerX, this.game.world.centerY, customConfig.go.key, this.startGame, this);\r\n\t\tthis.btnStart.anchor.set(0.5);\r\n\t\tthis.btnStart.scale.set(0.5);\r\n\t\tthis.btnStart.visible = this.flagShowBtnStart;\r\n\r\n\t\tthis.btnReplay = this.add.button(this.game.world.centerX, this.game.world.centerY+100, customConfig.replay.key, this.startGame, this);\r\n\t\tthis.btnReplay.anchor.set(0.5);\r\n\t\tthis.btnReplay.scale.set(0.5);\r\n\t\tthis.btnReplay.visible = !this.flagShowBtnStart;\r\n\t\tthis.game.add.tween(this.btnStart.scale).to({x:0.6, y:0.6}, 1000, Phaser.Easing.BounceInOut, true, 0, -1, true);\r\n\t\tthis.game.add.tween(this.btnReplay.scale).to({x: 0.6, y:0.6}, 1000, Phaser.Easing.BounceInOut, true, 0, -1, true);\r\n\t}\r\n\r\n\tstartGame(){\r\n\t\t//console.log(\"menu start play\");\r\n\t\tthis.state.start(\"Play\");\r\n\t\tthis.flagShowBtnStart = false;\r\n\t\t//console.log(\"menu finish starting play\");\r\n\t}\r\n}\r\n\r\nexport default Menu;\n\n\n// WEBPACK FOOTER //\n// ./states/menu.js","//import Phaser from \"phaser\";\r\nimport customConfig from \"../prefabs/customConfig\";\r\nimport Player from \"../prefabs/player\";\r\nimport Enemy from \"../prefabs/enemy\";\r\n\r\nclass Play extends Phaser.State{\r\n\tcreate(){\t\t\r\n\t\tthis.game.physics.startSystem(Phaser.Physics.ARCADE);\r\n\t\tthis.game.stage.backgroundColor = '#a8e6ff';\r\n\r\n\t\tthis.cloud = this.add.tileSprite(0,0,2079,851,'cloud');\r\n\t    this.cloud.fixedToCamera = true;\r\n\t    this.city1 = this.add.tileSprite(0,0,1798,359,'city1');\r\n\t    this.city1.position.set(0, this.game.world.height-this.city1.height+50);\r\n\t    this.city1.fixedToCamera = true;\r\n\t    this.city2 = this.add.tileSprite(0,0,1353,580,'city2');\r\n\t    this.city2.position.set(0, this.game.world.height-this.city2.height+70);\r\n\t    this.city2.fixedToCamera = true;\r\n\t    this.ground = this.add.tileSprite(0, 0, 1000, 32, \"ground\");\r\n\t    this.ground.scale.set(2);\r\n\t    this.ground.position.set(0, this.game.world.height-this.ground.height*2);\r\n\t    this.game.physics.arcade.enable(this.ground);\r\n\t    this.ground.body.immovable = true;\r\n\t    this.ground.body.allowGravity = false; \r\n\r\n\t    this.player = new Player(this.game, 180, this.game.world.centerY,null, this.ground);\r\n\t    this.enemy = new Enemy(this.game, customConfig.common.enemyTreeX, 0, this.player, this.ground);\r\n\t    this.player.setEnemy(this.enemy);  \r\n\t}\r\n\r\n\tgoFullScreen(){\r\n        this.game.scale.pageAlignHorizontally = true;\r\n     \tthis.game.scale.pageAlignVertically = true;\r\n     \tthis.game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n     }\r\n\r\n\tupdate(){\r\n\t\tthis.player.update();\r\n\t\tthis.enemy.update();\r\n\t\tthis.cloud.autoScroll(customConfig.common.scrollSpeed*10, 0);\r\n\t\tif(customConfig.flag.canMove){\r\n\t\t\tthis.city1.autoScroll(customConfig.common.scrollSpeed*20, 0);\r\n\t\t\tthis.city2.autoScroll(customConfig.common.scrollSpeed*30, 0);\r\n\t\t\tthis.ground.autoScroll(customConfig.common.scrollSpeed*40, 0);\r\n\t\t\tthis.enemy.enemyTree.body.velocity.x = customConfig.common.scrollSpeed*65;\r\n\t\t\tthis.enemy.enemyBody.body.velocity.x = customConfig.common.scrollSpeed*65;\r\n\t\t\tif(this.enemy.enemyTree.x+this.enemy.enemyTree.width/2 <this.game.camera.x){\r\n\t\t\t\tthis.enemy.enemyTree.reset(this.game.camera.x+this.game.camera.width+this.enemy.enemyTree.width, this.ground.y);\r\n\t\t\t\tthis.enemy.enemyTree.scale.set(this.game.rnd.realInRange(0.12, 0.2), this.game.rnd.realInRange(0.2, 1));\r\n\t\t\t\tthis.enemy.enemyBody.revive();\r\n\t\t\t\tthis.enemy.enemyBody.position.set(this.enemy.enemyTree.x, \r\n\t\t\t\t\tthis.enemy.enemyTree.y-this.enemy.enemyTree.height-this.enemy.enemyBody.height/2);\r\n\t\t\t\tthis.enemy.reviveEnemyBullet();\r\n\t\t\t\tcustomConfig.flag.checkStop = true;\r\n\t\t\t\tconsole.log(\"reset tree\");\r\n\t\t\t}\r\n\t\t\tif(customConfig.flag.checkStop){\r\n\t\t\t\tif(this.enemy.enemyTree.x<customConfig.common.enemyTreeX+this.game.rnd.between(-30, 50)){\r\n\t\t\t\t\tcustomConfig.flag.canMove = false;\r\n\t\t\t\t\tcustomConfig.flag.checkStop = false;\r\n\t\t\t\t\tthis.city1.stopScroll();\r\n\t\t\t\t\tthis.city2.stopScroll();\r\n\t\t\t\t\tthis.ground.stopScroll();\r\n\t\t\t\t\tthis.enemy.enemyTree.body.velocity.x = 0;\r\n\t\t\t\t\tthis.enemy.enemyBody.body.velocity.x = 0;\r\n\t\t\t\t\tthis.player.flagCoolDown = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n\r\nexport default Play;\n\n\n// WEBPACK FOOTER //\n// ./states/play.js","//import Phaser from \"phaser\";\r\nimport customConfig from \"../prefabs/customConfig\";\r\n\r\nclass Preload extends Phaser.State{\r\n\tinit(){\r\n\t\t//console.log(this.game.cache._cache);\r\n\t\t\r\n\t}\r\n\r\n\tpreload(){\r\n\t\tconsole.log(\"preload preload\");\r\n\t\t//this.loaderBar = this.add.sprite(this.game.world.centerX, this.game.world.centerY, 'go');\r\n        //this.loaderBar.anchor.setTo(0.5);\r\n        //this.load.setPreloadSprite(this.loaderBar);\r\n\t\tconsole.log(\"preload preloadSprite\");\r\n\r\n\t\tthis.load.image(customConfig.cloud.key, customConfig.cloud.url);\r\n\t\tthis.load.image(customConfig.city1.key, customConfig.city1.url);\r\n\t\tthis.load.image(customConfig.city2.key, customConfig.city2.url);\r\n\t\tthis.load.image(customConfig.pink.key, customConfig.pink.url);\r\n\t\tthis.load.image(customConfig.ground.key, customConfig.ground.url);\r\n\t\tthis.load.image(customConfig.go.key, customConfig.go.url);\r\n\t\tthis.load.image(customConfig.replay.key, customConfig.replay.url);\r\n\t\tconsole.log(\"preload finish preload\");\r\n\t}\r\n\t\r\n\tcreate(){\r\n\t\tconsole.log(\"preload create\");\r\n\t\t//console.log(this.game.cache._cache);\r\n\t\tthis.state.start(\"Menu\");\r\n\t\tconsole.log(\"preload finish create\");\r\n\t}\r\n}\r\n\r\nexport default Preload\n\n\n// WEBPACK FOOTER //\n// ./states/preload.js","\r\nimport customConfig from \"./customConfig\";\r\n\r\nclass Enemy extends Phaser.Sprite{\r\n\tconstructor(_game, _x, _y, _player, _ground){\r\n\t\tsuper(_game, _x, _y, _player, _ground);\r\n\t\tthis.game = _game;\r\n\t\tthis.x = _x;\r\n\t\tthis.y = _y;\r\n\t\tthis.player = _player;\r\n\t\tthis.ground = _ground;\r\n\t\tthis.enemyTree;\r\n\t\tthis.enemyBody;\r\n\t\tthis.enemyBullet;\r\n\r\n\t\tthis.launchSpeed = 750;\r\n\t\tthis.flagEnemyHoldBullet = true;\r\n\t\tthis.flagEnemyBulletMissedPlayer = false;\r\n\r\n\t\tthis.enemyTree = this.game.add.sprite(0, 0, customConfig.tree.key);\r\n\t\tthis.enemyTree.anchor.set(0.5, 1);\r\n\t\tthis.enemyTree.scale.set(0.15, 0.3+this.game.rnd.realInRange(0, 0.7));\r\n\t\tthis.game.physics.arcade.enable(this.enemyTree);\r\n\t\tthis.enemyTree.body.immovable = true; //穿透\r\n\t\tthis.enemyTree.body.allowGravity = false;\r\n\t\t//this.enemyTree.body.gravity.y = 200;\r\n\r\n\t\tthis.enemyTree.position.set(this.x, this.ground.y);\r\n\r\n\t\tthis.enemyBody = this.game.add.sprite(0, 0, customConfig.enemyBody.key);\r\n\t\tthis.enemyBody.anchor.set(0.5);\r\n\t\tthis.enemyBody.scale.set(0.1, 0.2);\r\n\t\tthis.game.physics.arcade.enable(this.enemyBody);\r\n\t\tthis.enemyBody.body.allowGravity = true;\r\n\t\tthis.enemyBody.body.gravity.y = 200;\r\n\t\tthis.enemyBody.position.set(this.enemyTree.x, this.enemyTree.y-this.enemyTree.height-this.enemyBody.height/2);\r\n\r\n\t\tthis.enemyBullet = this.game.add.sprite(0, 0, customConfig.enemyBullet.key);\r\n\t\tthis.enemyBullet.anchor.set(0, 0.5);\r\n\t\tthis.enemyBullet.scale.set(0.15, 0.01);\r\n\t\tthis.enemyBullet.angle = -180;\r\n\t\tthis.game.physics.arcade.enable(this.enemyBullet);\r\n\t\tthis.enemyBullet.body.allowGravity = false;\r\n\t\tthis.enemyBullet.body.gravity.y = 500;\r\n\t\tthis.enemyBullet.checkWorldBounds = true;\r\n\t\tthis.enemyBullet.events.onOutOfBounds.add(this.enemyBulletOutOfBounds, this);\r\n\t\tthis.enemyBullet.position.set(this.enemyBody.x, this.enemyBody.y-this.enemyBody.height/2);\r\n\t\tconsole.log(\"new enemy\");\r\n\t}\r\n\r\n\tupdate(){\r\n\t\t//this.game.physics.arcade.collide(this.enemyTree, this.ground);\r\n\t\tthis.game.physics.arcade.collide(this.enemyBody, this.enemyTree);\r\n\t\tthis.game.physics.arcade.collide(this.enemyBody, this.ground, this.enemyBodyHitGround, null ,this);\r\n\t\tthis.game.physics.arcade.collide(this.enemyBullet, this.player.playerBody, this.enemyBulletHitPlayerBody, null, this);\r\n\t\tthis.game.physics.arcade.collide(this.enemyBullet, this.ground, this.enemyBulletHitGround, null, this);\r\n\r\n\t\tthis.enemyBody.x = this.enemyTree.x;\r\n\t\tthis.enemyBody.y = this.enemyTree.y-this.enemyTree.height-this.enemyBody.height/2;\r\n\t\tif(this.flagEnemyHoldBullet){\r\n\t\t\tthis.enemyBullet.x = this.enemyBody.x;\r\n\t\t\tthis.enemyBullet.y = this.enemyBody.y;\r\n\t\t\tthis.enemyBullet.rotation = this.game.physics.arcade.angleBetween(this.enemyBullet, this.player.playerBody)+0.2;\r\n\t\t}else{\r\n\t\t\tthis.changeAngle(-1.1);\r\n\t\t}\r\n\t\tif(this.player.flagPlayerBulletMissedEnemy){\r\n\t\t\tthis.enemyLaunch();\r\n\t\t}\r\n\t}\r\n\r\n\tenemyBodyHitGround(enemyBody, ground){\r\n\t\tif(this.flagEnemyHoldBullet){\r\n\t\t\tenemyBody.position.set(this.enemyTree.x, this.enemyTree.y-this.enemyTree.height-this.enemyBody.height/2);\r\n\t\t\tconsole.log(\"enemyBodyHitGround\");\r\n\t\t}\r\n\t}\r\n\r\n\tenemyBulletHitPlayerBody(enemyBullet, playerBody){\r\n\t\tenemyBullet.kill();\r\n\t\tplayerBody.kill();\r\n\t\tthis.player.playerBullet.kill();\r\n\t\tthis.flagEnemyBulletMissedPlayer = false;\r\n\t\tthis.gameOver();\r\n\t\tconsole.log(\"enemyBulletHitPlayerBody\");\r\n\t}\r\n\r\n\tenemyBulletHitGround(enemyBullet, ground){\r\n\t\tif(this.flagEnemyHoldBullet){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.flagEnemyBulletMissedPlayer = true;\r\n\t\tenemyBullet.kill();\r\n\t\tthis.game.time.events.add(100, this.reviveEnemyBullet, this);\r\n\t\tconsole.log(\"enemyBodyHitGround\");\r\n\t}\r\n\r\n\tenemyLaunch(){\r\n\t\tif(this.flagEnemyHoldBullet){\r\n\t\t\tthis.enemyBullet.rotation = this.game.physics.arcade.angleBetween(this.enemyBullet, this.player.playerBody)+0.2;\r\n\t\t\tthis.game.physics.arcade.velocityFromRotation(this.enemyBullet.rotation, this.launchSpeed, this.enemyBullet.body.velocity);\r\n\t\t\tthis.enemyBullet.body.allowGravity = true;\r\n\t\t\tthis.flagEnemyHoldBullet = false;\t//不加的话，转弯也要朝向player\r\n\t\t\tconsole.log(\"enemyLaunch\");\r\n\t\t}\r\n\t}\r\n\r\n\tenemyBulletOutOfBounds(enemyBullet){\r\n\t\tif(this.flagEnemyHoldBullet){\r\n\t\t\tconsole.log(\"enemyBulletOutOfBounds, but,,,\")\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.enemyBullet.kill();\r\n\t\tthis.flagEnemyBulletMissedPlayer = true;//\r\n\t\tthis.game.time.events.add(100, this.reviveEnemyBullet, this);\r\n\t\tconsole.log(\"enemyBulletOutOfBounds\");\r\n\t}\r\n\r\n\treviveEnemyBullet(){\r\n\t\tthis.enemyBullet.reset(this.enemyBody.x, this.enemyBody.y);\r\n\t\tthis.enemyBullet.angle = -180;\r\n\t\tthis.enemyBullet.body.allowGravity = false;\r\n\t\tthis.flagEnemyHoldBullet = true;\r\n\t\tthis.flagEnemyBulletMissedPlayer = false;//\r\n\t\tconsole.log(\"reviveEnemyBullet\");\r\n\t}\r\n\r\n\tchangeAngle(p){\r\n\t\tthis.enemyBullet.rotation += p*0.01;\r\n\t}\r\n\r\n\tgameOver(){\r\n\t\tthis.game.state.start(\"Menu\");\r\n\t\tconsole.log(\"gameOver\");\r\n\t}\r\n\t\r\n}\r\n\r\nexport default Enemy;\n\n\n// WEBPACK FOOTER //\n// ./prefabs/enemy.js","import customConfig from \"./customConfig\";\r\n\r\nclass Player extends Phaser.Sprite{\r\n \tconstructor(_game, _x, _y, _enemy, _ground){\r\n \t\tsuper(_game, _x, _y, _enemy, _ground);\r\n\t\t//Phaser.Sprite.call(this, _game, _x, _y);\r\n\t\tthis.game = _game;\r\n\t\tthis.x = _x;\r\n\t\tthis.y = _y;\r\n\t\tthis.ground = _ground;\r\n\t\tthis.enemy = _enemy;\r\n\t\tthis.enemy;\r\n\t\tthis.playerBody;\r\n\t\tthis.playerBullet;\r\n\r\n\t\tthis.launchSpeed = 750;\r\n\t\tthis.flagRotate = -1;\r\n\t\tthis.flagPlayerHoldBullet = true;\r\n\t\tthis.flagPlayerBulletMissedEnemy = false;\r\n\t\tthis.flagCoolDown = true;\r\n\r\n\t\tthis.playerBody = this.game.add.sprite(0, 0, customConfig.playerBody.key);\r\n\t\tthis.playerBody.anchor.set(0.5);\r\n\t\tthis.playerBody.scale.set(0.1, 0.2);\r\n\t\tthis.playerBody.position.set(this.x, this.ground.y-100);\r\n\t\tthis.game.physics.arcade.enable(this.playerBody);\r\n\t\tthis.playerBody.body.gravity.y = 200;\r\n\t\t//this.playerBody.body.immovable = true;//穿透\r\n\t\tthis.playerBody.getPlayer = this.getPlayer;\r\n\r\n\t\tthis.playerBullet = this.game.add.sprite(this.playerBody.x, this.playerBody.y, customConfig.playerBullet.key);\r\n\t\tthis.playerBullet.anchor.set(0, 0.5);\r\n\t\tthis.playerBullet.scale.set(0.15, 0.01);\r\n\t\tthis.playerBullet.tint = 0xff0000;\r\n\t\tthis.game.physics.arcade.enable(this.playerBullet);\r\n\t\tthis.playerBullet.body.gravity.y = 500;\r\n\t\tthis.playerBullet.body.allowGravity = false;\r\n\t\tthis.playerBullet.checkWorldBounds = true;\r\n\t\tthis.playerBullet.events.onOutOfBounds.add(this.playerBulletOutOfBounds, this);\r\n\r\n\t\tthis.game.input.onDown.add(this.eventOnKeyDown, this);\r\n\t\tthis.game.input.onUp.add(this.eventOnKeyUp, this);\t\r\n\t}\r\n\r\n\tupdate(){\r\n\t\tthis.game.physics.arcade.collide(this.playerBody, this.ground, this.playerBodyHitGround, null, this);\r\n\t\tthis.game.physics.arcade.collide(this.playerBullet, this.enemy.enemyBody, this.playerBulletHitEnemy, null, this);\r\n\t\tthis.game.physics.arcade.collide(this.playerBullet, this.ground, this.playerBulletHitGround, null, this);\r\n\t\tif(this.flagPlayerHoldBullet){\r\n\t\t\tthis.playerBullet.x = this.playerBody.x;\r\n\t\t\tthis.playerBullet.y = this.playerBody.y;\r\n\t\t\tif(customConfig.flag.onDown && this.flagCoolDown){\r\n\t\t\t\tthis.changeAngle(1*this.flagRotate);\r\n\t\t\t\tif(this.playerBullet.angle <-90){\r\n\t\t\t\t\tthis.flagRotate = -this.flagRotate;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.playerBullet.angle >0){\r\n\t\t\t\t\tthis.flagRotate = -this.flagRotate;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tthis.changeAngle(1.2);\r\n\t\t}\r\n\t\tif(this.enemy.flagEnemyBulletMissedPlayer){\r\n\t\t\tthis.revivePlayerBullet();\r\n\t\t\tthis.flagCoolDown = true;\r\n\t\t}\r\n\t}\r\n\r\n\tgetPlayer(){\r\n\t\treturn this;\r\n\t}\r\n\r\n\teventOnKeyDown(){\r\n\t\tif(customConfig.flag.onDown){\r\n\t\t\tconsole.log(\"eventOnKeyDown return!!!\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tcustomConfig.flag.onDown = true;\r\n\t\tconsole.log(\"eventOnKeyDown\");\r\n\t}\r\n\r\n\teventOnKeyUp(){\r\n\t\tif(customConfig.flag.onDown){\r\n\t\t\tcustomConfig.flag.onDown = false;\r\n\t\t\tif(this.flagPlayerHoldBullet){\r\n\t\t\t\tthis.PlayerLaunch();\r\n\t\t\t\t//this.flagPlayerHoldBullet = false;\r\n\t\t\t}\r\n\t\t\tconsole.log(\"eventOnKeyUp\");\r\n\t\t}\r\n\t}\r\n\r\n\tchangeAngle(p){\r\n\t\tthis.playerBullet.rotation += p*0.01;\r\n\t}\r\n\r\n\tPlayerLaunch(){\r\n\t\tif(this.flagPlayerHoldBullet && this.flagCoolDown){\r\n\t\t\tthis.game.physics.arcade.velocityFromAngle(this.playerBullet.angle, this.launchSpeed, this.playerBullet.body.velocity);\r\n\t\t\tthis.playerBullet.body.allowGravity = true;\r\n\t\t\tthis.flagPlayerHoldBullet = false;\r\n\t\t\tthis.flagCoolDown = false;\r\n\t\t\tconsole.log(\"PlayerLaunch\");\r\n\t\t}\r\n\t}\r\n\r\n\tplayerBodyHitGround(playerBody, ground){\r\n\t\tplayerBody.body.allowGravity = false;\r\n\t\tconsole.log(\"playerBodyHitGround\");\r\n\t}\r\n\r\n\tplayerBulletHitEnemy(playerBullet, enemyBody){\r\n\t\tplayerBullet.kill();\r\n\t\tenemyBody.kill();\r\n\t\tthis.enemy.enemyBullet.kill();\r\n\t\tthis.revivePlayerBullet();\r\n\t\tcustomConfig.flag.canMove = true;\r\n\t\tconsole.log(\"playerBulletHitEnemy\");\r\n\t}\r\n\r\n\tplayerBulletHitGround(playerBullet, ground){\r\n\t\tif(this.flagPlayerHoldBullet){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tplayerBullet.kill();\r\n\t\tthis.flagPlayerBulletMissedEnemy = true;\r\n\t\tthis.enemy.enemyLaunch();\r\n\t\tconsole.log(\"playerBulletHitGround\");\r\n\t}\r\n\r\n\tplayerBulletOutOfBounds(playerBullet){\r\n\t\tif(this.flagPlayerHoldBullet){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tplayerBullet.kill();\r\n\t\tthis.flagPlayerBulletMissedEnemy = true;\r\n\t\tthis.enemy.enemyLaunch();\r\n\t\tconsole.log(\"playerBulletOutOfBounds\");\r\n\t}\r\n\r\n\trevivePlayerBullet(){\r\n\t\tif(this.playerBullet.alive == true){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.playerBullet.reset(this.playerBody.x, this.playerBody.y);\r\n\t\tthis.playerBullet.angle = 0;\r\n\t\tthis.playerBullet.body.allowGravity = false;\r\n\t\tthis.flagPlayerHoldBullet = true;\r\n\t\tthis.flagPlayerBulletMissedEnemy = false;\r\n\t\tconsole.log(\"revivePlayerBullet\");\r\n\t}\r\n\r\n\tsetEnemy(enemy){\r\n\t\tthis.enemy = enemy;\r\n\t\tconsole.log(\"setEnemy\");\r\n\t}\r\n\r\n\trender(){\r\n\t\tthis.game.debug.text(\"flagPlayerHoldBullet: \"+this.flagPlayerHoldBullet, 20, this.game.world.height-20);\r\n\t\tthis.game.debug.text(\"flagPlayerBulletMissedEnemy: \"+this.flagPlayerBulletMissedEnemy, 20, this.game.world.height-40);\r\n\t\tthis.game.debug.text(\"this.playerBullet.alive: \"+this.playerBullet.alive, 20, 60);\r\n\t\tthis.game.debug.body(this.playerBody);\r\n\t\tthis.game.debug.body(this.playerBullet);\r\n\t}\r\n}\r\n\r\nexport default Player;\n\n\n// WEBPACK FOOTER //\n// ./prefabs/player.js","//import Phaser from \"phaser\";\r\nimport Boot from \"./boot\";\r\nimport Preload from \"./preload\";\r\nimport Menu from \"./menu\";\r\nimport Play from \"./play\";\r\n\r\nvar gameBestWidth = 800;\r\nvar gameBestHeight = 600;\r\n\r\n/*\r\nvar gameBestRatio = gameBestWidth / gameBestHeight;\r\n// Get viewport ratio.\r\nvar viewport_w = window.innerWidth;\r\nvar viewport_h = window.innerHeight;\r\nvar viewportRatio = viewport_w / viewport_h;\r\nvar content = document.getElementById(\"content\");\r\nif(gameBestRatio > viewportRatio){\r\n    // take viewport height as base value\r\n    content.style.width  = viewport_w + \"px\";\r\n    content.style.height = (viewport_w / gameBestRatio) + \"px\";\r\n} else if(gameBestRatio < viewportRatio){\r\n    // take viewport width as base value\r\n    content.style.height = viewport_h + \"px\";\r\n    content.style.width  = (viewport_h * gameBestRatio) + \"px\";\r\n} \r\n*/\r\n//-----------------------------------------------------------\r\n\r\n/*\r\nvar game;\r\nvar flage;\r\ngoPC();\r\nfunction goPC(){\r\n\tvar userAgentInfo = navigator.userAgent;\r\n\tvar Agents = new Array(\"Android\", \"iPhone\", \"SymbianOS\", \"Windows Phone\", \"iPad\", \"iPod\");\r\n\tflage = true;\r\n\r\n\tfor (var v = 0; v < Agents.length; v++) {\r\n\t\tif (userAgentInfo.indexOf(Agents[v]) > 0){ \r\n\t\t\tflage = false;\r\n\t\t\tbreak; \r\n\t\t}\r\n\t}\r\n  return flage;\r\n}\r\nif(flage){\r\n  game = new Phaser.Game(800,592,Phaser.AUTO,'content');\r\n}else{\r\n  game = new Phaser.Game(Math.floor(window.innerWidth/16)*16,Math.floor(window.innerHeight/16)*16,Phaser.AUTO,'content');\r\n}\r\n*/\r\n//----------------------------------------------------------------\r\n\r\n/*\r\nisLandscape, \r\nonOrientationChange()\r\nscreenOrientation\r\nsetResizeCallback()\r\nsetUserScale()\r\n*/\r\n\r\n//var gameBestRatio = gameBestWidth / gameBestHeight;\r\n/*\r\nvar viewport_w = window.innerWidth;\r\nvar viewport_h = window.innerHeight;\r\nvar viewportRatio = viewport_w / viewport_h;\r\n\r\nvar content = document.getElementById(\"content\");\r\n\r\nif(gameBestRatio > viewportRatio){\r\n    // take viewport height as base value\r\n    content.style.width  = viewport_w + \"px\";\r\n    content.style.height = (viewport_w / gameBestRatio) + \"px\";\r\n} else if(gameBestRatio < viewportRatio){\r\n    // take viewport width as base value\r\n    content.style.height = viewport_h + \"px\";\r\n    content.style.width  = (viewport_h * gameBestRatio) + \"px\";\r\n} \r\n*/\r\n//-------------------------------------------------------\r\n//document.getElementById('content').style.width = document.body.clientWidth + 'px';\r\n//document.getElementById('content').style.height = document.body.clientHeight + 'px';\r\nvar gameBestRatio = document.body.clientWidth/document.body.clientHeight;\r\nif(gameBestRatio<1){\r\n\tgameBestRatio = 1/gameBestRatio;\r\n}\r\ngameBestWidth = gameBestHeight*gameBestRatio;\r\nvar game = new Phaser.Game(gameBestWidth, gameBestHeight, Phaser.CANVAS , \"content\");\r\ngame.state.add(\"Boot\", Boot);\r\ngame.state.add(\"Preload\", Preload);\r\ngame.state.add(\"Menu\", Menu);\r\ngame.state.add(\"Play\", Play);\r\ngame.state.start(\"Boot\");\r\n\r\n/*\r\ngame.scale.onOrientationChange.add(resizeCallback, game.scale);\r\nresizeCallback = function(){\r\n\tif(game.scale.isLandscape){\r\n\t\tconsole.log(\"resizeCallback2, is Landscape\");\r\n\t\t//setUserScale()\r\n\t}\r\n}\r\n*/\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./states/index.js"],"sourceRoot":""}